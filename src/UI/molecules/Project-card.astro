---
import { Image } from 'astro:assets';
import CssIcon from '../../assets/icons/CssIcon.astro';
import HtmlIcon from '../../assets/icons/HtmlIcon.astro';
import JsIcon from '../../assets/icons/JsIcon.astro';
import ReactIcon from '../../assets/icons/ReactIcon.astro';

const { bgImage, altImg, title, description, technologies = [] } = Astro.props;

const iconMap = {
	ReactIcon,
	CssIcon,
	HtmlIcon,
	JsIcon,
};
---

<div
	class='group relative bg-[#43CFF4]/5 backdrop-blur-sm border border-[#43CFF4]/10 rounded-2xl overflow-hidden transition-all duration-300 hover:bg-[#43CFF4]/10 hover:border-[#43CFF4]/20 hover:shadow-2xl hover:shadow-[#43CFF4]/10 hover:-translate-y-2'
>
	<div class='relative overflow-hidden'>
		<Image
			src={bgImage}
			alt={altImg}
			class='w-full h-[300px] object-cover transition-transform duration-500 group-hover:scale-110'
			loading='lazy'
			draggable='false'
		/>
		<div
			class='hidden md:flex justify-center items-center p-5 absolute inset-0 bg-[#0B0C17]/70 opacity-0 group-hover:opacity-100 transition-opacity duration-300'
		>
			<p class='text-[#DDF4FB] font-semibold'>{description}</p>
		</div>
	</div>

	<div class='p-6 space-y-1'>
		<h3 class='text-xl font-semibold text-[#DDF4FB] group-hover:text-[#43CFF4] transition-colors duration-300'>
			{title}
		</h3>
		<p class='text-[#DDF4FB] text-sm md:hidden'>{description}</p>
		<div class='flex flex-wrap gap-3'>
			{
				technologies.map((tech: any) => {
					const iconName = tech.icon;
					const IconComponent = iconMap[iconName as keyof typeof iconMap];
					return IconComponent ? (
						<div class='flex items-center gap-2 px-3 py-2 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-200'>
							<IconComponent class='w-5 h-5 text-blue-400' />
							<span class='text-sm font-medium text-gray-300'>{tech.text}</span>
						</div>
					) : null;
				})
			}
		</div>
	</div>
</div>
